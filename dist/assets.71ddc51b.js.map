{"version":3,"sources":["assets/SimpleMediaPlayer.ts","assets/plugins/AutoPlay.ts","assets/plugins/AutoPause.ts","assets/plugins/Ads/Ads.ts","assets/plugins/Ads/index.ts","assets/index.ts"],"names":[],"mappings":";;;;;;AAAA,AEEA,ADAA,IDFA,AEEA,ADAA,QAAA,CCAA,QFFA;AAAA,AEEA,ADAA;ADFA,AEEA,ADAA,YDFA,AEEA,ADAA;ADGE,AECE,ADHA,WDEF,AECE,ADHA,QAAA,CCGA,EDHA,CCGA,ADHe,KDEjB,CAAY,MAAZ,EAAkB;AAChB,AECE,SFDG,AECE,KFDP,GAAa,CECX,GAAiB,EFDA,CAAC,CEClB,CFDF;AACA,AECE,ADJF,EAAA,ODGK,AECE,CDJP,CAAA,KDGA,GAAe,CCHf,CAAA,GAAA,CDGqB,CAAC,CECpB,ADJF,GCI4B,GFDb,EECkB,EFDA,ACH7B,EDGJ,CAFgB,CAEqB,ECHrC,EAA6B,QCID,CAAwB,IAAxB,CAA6B,IAA7B,CAA1B;AGRN,ADCA,AFQM,ADJE,IILR,ADCA,IHIW,CGJX,AFQW,ADJC,GGJZ,GHIkB,CAAC,KAAP,CAAa,CILzB,EHSM,CGTN,CDCA,AHIQ,CGJR,AFQ8B,CDJC,ICII,EERnC,CAAA,KCDA,CAAA,CDCA,CAAA,CAAA,ICDA,AHS8B,CGT9B,AHSoD,IAAtB,CAA2B,IAA3B,CAAxB,WGTN,CAAA,CAAA;ALSI,AGFJ,ADEoE,ADHxD,IECN,EFDM,GDGH,EGFI,CFDK,CAAC,CECG,CAClB,EFFQ,EDGR;AACA,AKTJ,AFQM,ACNN,AHIS,EEEH,EERN,ADEA,CHCiC,CAGxB,GDGA,CGDK,EACN,EETR,ADEA,GCFA,GLSI,WGFA,CEPJ,CAAA,OAAA,CAAA,oBAAA,CAAA,CAAA;ALUG,AGAG,ACRN,AFQI,ECAE,ADAF,KCAO,EAAE,EDAT,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,ICHJ,EDGA,EAAU;AGTd,AFUM,ACTN,AFSM,ECAA,EEVN,EFUU,EACF,CDDG,GETX,GCDA,AHUM,GGVN,AHUoB,MAAd,SGVN,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA,0CFMI;AHIM,AGEJ,ACJF,AFIE,ADNE,EDIE,AGEJ,EFNE,CEMC,EAAE,CDAC,EDNE,CGEV,AHFW,IAAP,CCMY,GFFV,AEEa,CFFb,CIFN,EFIuB,CEJvB,KJEM,CAAA,WAAA,EEEa,CFFrB,AEE8C,KAAK,OFFnD,WEEqB,EAAkD;AFFvE,AKTF,AFKI,ACGI,AFIA,ADNH,CEFiB,EAUlB,AFbA,CIDJ,EHYQ,EFHN,CKTF,ADQa,GCRb,ADQQ,CJCN,EIDiB,AFIF,CFHf,CEGiB,GFHjB,AIDiB,CAAA,CFIK,KGZxB,CAAA,ADQmB,CAAI,MCRvB,CAAA,IDQmB,EAAX,SCRR,CAAA,CAAA,EAEE;AFaM,ACNA,AFEiE,ECIjE,GDJe,CAAjB,GEFO,CDMG,EACR,SCPA,GAAoB,ODKxB,CCLgC,CAAC,aAAT,CAAuB,KAAvB,CAApB;AJCJ,AGOI,ACPA,AFKF,ADTD,EEWG,EDFF,GCEO,EHPJ,AGOM,ACPF,GFKC,CAAC,GFLX,CAAa,GEKX,CAAiB,GFLnB,CAAqB,AIAjB,CFKoB,EELI,IFKT,CELc,AFKF,EFLV,GEKnB,GFLmB,CGIrB,CHJ2B,MIAC,CAAsB,IAAtB,CAA2B,IAA3B,CAAxB;AJCF,AKRJ,AFeM,ACPH,AFMC,ADVN,EEWQ,EEfA,AHcF,EFNA,AGOM,EACF,CFZV,GDIY,AEME,CFND,AEME,GFNT,AKRc,CLQH,ACJjB,EIJoC,GLQ9B,EADyB,CACP,EKRoB,CAAC,CHcvC,CAA0B,WGdI,CAAuB,MHcrD,EAA8C,CGdhB,CAAlC,GHcuD,gBAAnD,oCCHF;AHFC,AKRH,AFgBM,ADFH,ADnBL,CAAA,CEqBQ,CDZJ,ADTJ,CIKQ,CLMJ,AGUO,EAAE,EEhBA,GAAqB,QAAQ,CAAC,aAAT,CAAuB,aAAvB,CAAhC;ALSC,AKRD,AFSE,ACHC,CDPiB,EHKZ,AGcF,CElBA,MAAM,GAAsB,IAAI,mBAAA,CAAA,OAAJ,CAAsB;AACtD,AFkBQ,ADJA,ADZZ,EIFI,AFkBQ,ADJA,EGdN,EAAE,CJER,CAAA,EEgBoB,CEnBsC,AHe9C,CCKA,ADLA,GDZZ,GAAe,GCYH,CAAA,IDZZ,KEeQ,SDHI,GAAR,UAA2B,OAA3B,EAA+D;AFNjE,AKPE,AFmBQ,ACbR,AFQE,EFPJ,AKPE,AFmBQ,ACbR,KDaa,CDLL,CGdD,AFmBQ,EEnBN,CAAC,ADMV,CAAA,AFQa,GGdC,AHcE,GFPlB,CAAA,EIDE,CAAA,AFQuB,CAAC,CAAD,CGdT,ADMd,AFQE,CGdY,ELOhB,AIDE,CJCF,IAAA,AKPY,EAAD,CLOX,CKP4B,CDMtB,GCN0B,AFgB1B,GCVJ,EAA6B,EJC/B,IKPgC,CAAA,OAAJ,EAAjB,EAAkC,IAAI,KAAA,CAAA,OAAJ,EAAlC;ALQT,AKVsD,AFsB9C,ACbJ,AFSF,CGlB8B,CAAlC,AFsBU,IAAI,EACF,ADLF,CFRH,AIDI,KJCT,CAAW,AIDP,EFSa,CETC,CJClB,CEQoB,IEThB,CFSqB,CAAC,iBAAN,IAA2B,KAAK,SAAlD,8CCAE;AHPL,AGaS,ACdJ,AFUF,ECIM,CHfV,CEWI,CCIS,EAAE,ECdJ,IFUE,CEVP,EFUU,CEVG,IFUE,CEVG,KFUR,CEVG,AFUS,CEVG,GFUf,EEVV,AFUO,GAAwB,KAAK,MAAL,CAAY,KAAZ,EAAjC;AGfF,AFaI,ACPA,AFWH,CCvBiB,EA4BZ,ADZE,CGVJ,KDMK,KAAL,CAAW,QCNQ,QDMnB,CCNJ,ADMgC,ECNE,UDM9B,EAA0C,KAAK,gBAA/C;AJCN,AKNI,AFsBM,AChBJ,EJAN,AKNI,AFsBM,OChBC,CDgBO,CEtBL,CAAC,AFuBJ,GCjBJ,CAAY,GJAlB,CAAA,KKNI,ADME,CCNsB,ADMA,GJA5B,CAAA,CGeQ,GErBJ,CLMJ,AKNqC,EDM/B,CJAN,AIAwC,KAAK,OJA7C,KIAM,kBCNF,EAAsD,KAAtD,CAA4D,UAAA,KAAA,EAAK;ALOnE,AKNI,AFuBI,AChBP,AFUO,ECMA,ADNA,CEhBR,CCDI,GFuBS,EHjBR,AGiBU,EEvBJ,AHiBH,CGjBI,AHiBJ,EFXR,CAAW,AKNP,CAAY,ILMhB,CKNqB,AHiBb,CGjBc,AHiBd,OGjBJ,SHiBI,GAAR,CCGM,WDHN;AFVD,AKNI,AFuBK,ADNJ,ECMI,CHnBV,AKNI,GFyBU,EACF,ADPA,SAAS,GAAG,QAAQ,CAAC,eAAT,KAA6B,SAA/C,iDCEE;AElBL,AFwBO,AClBA,AFWJ,EGfR,AFsBY,AClBA,EFWJ,CCOO,EAAE,KClBL,CAAA,AFWK,GAAG,KAAK,CEXb,CAAA,IFWQ,CAAY,IAAZ,EAAH,GAAwB,EEX7B,GAAR,AFW0C,MAAL,CAAY,KEXjD,AFWqC,EAAjC;AFXN,AGYQ,ACXF,AFWH,CC5BiB,CHgBpB,CGqBQ,ADZE,KERE,WJDZ,AICuB,CJDvB,EIC0B,IAAI,CAAC,EJD/B,CAAA,EIC0B,CAAW,KAAK,EJD1C,GAAA,AICqC,CAAW,WJDhD,AIC0B,CAApB;AJAJ,AGqBQ,EAAA,OHrBH,CGqBW,EACN,EHtBV,CAAW,MAAX,GAAoB,KAAK,IAAL,EAApB,GAAkC,KAAK,KAAL,EAAlC,GGoBM;AHnBP,AKLH,AF2BY,ACtBJ,AFWN,ECWU,CHxBV,IGwBe,CCtBN,CCLF,AF2BU,ADXjB,SAAA,CEXoB,GAAG,EAAd,CCLX,GAAyB,CDKO,CAAxB,EAA0B,UDmBxB;AEvBN,AF2BQ,ACtBA,AFxBZ,CAAA,CC8CY,CD9CZ,GGmBU,AF2BM,EACF,EE5BA,CDKG,ECLA,MAAM,ADKX,CCLY,KAAP,CAAa,KAAb,GAAqB,IAArB,GAA4B,IAAzC,8DFuBM;AHlBR,AKJE,AF4BQ,ACvBH,EJDP,AKJE,AF4BQ,GAAG,EAAE,UE5BE,CAAC,CLIlB,CAAA,SAAA,AKJE,CLIF,EKJgC,ELIhC,EKJE,CLIF,YAAA;AACE,AKJH,AFqBS,AChBL,AFUH,CC/BoB,EA8CZ,AC9BE,IFeV,CAAA,CFXO,KAAL,CAAW,AEWb,GAAe,EFXb,GAAmB,IAAnB,AEWF;AFVC,AG0BS,EAAA,CH5BV,OG4BkB,EACR,mBAFF;AE7BV,AFgCY,AC1BA,ED0BA,AC1BA,KD0BK,EEhCR,AFgCU,GC1BP,CAAA,SAAA,CCNZ,ADMY,GCNW,KDMX,GAAR,QDuBM,ICvBN;AJDF,AKJE,AFgCQ,AC3BR,EJDF,AG4BU,IEhCF,AFgCM,EACF,AC5BV,KCLa,ADKb,GCLyB,ADKzB,GJDF,CAAA,AICE,ECL+B,CAAC,KAAP,CLI3B,AKJwC,CLIxC,MAAA,GAAA,CKJ2B,GAA2B,MAAM,CAAC,CLI7D,IKJsD,CAAa,QAAzC,GAAqD,GAA7E,qCF4BM;AHvBN,AKJA,AFiCQ,EEjCR,AFiCQ,GAAG,EAAE,EH7BR,IKJM,CLIX,AKJY,CLID,IKJX,CLIA,AKJkB,GLIC,KAAnB,CKJA,GAAiC,OAAO,GAAA,GAAxC;ALKD,AKJF,AF0BS,ACtBF,CDxBc,EHsBpB,AGiCQ,KC/BC,KAAK,SAAR,EAAkB;ADgCd,AC/BA,ED+BA,QAAQ,EACR,iBAFF;AH7BR,AKLF,AFqCY,AChCH,EJAP,AGgCU,KAAK,EErCR,AFqCU,UHhCjB,CAAA,KKLF,GAAyB,CLKvB,CAAA,UAAA,EG6BQ,CH7BR,YAAA;AACE,AKLA,AFqCQ,EAAA,IErCF,AFqCM,EACF,CHjCL,CKLK,GAAG,KLKb,CKLmB,CAAC,CLKH,IKLJ,CAAa,GLKD,CAAC,EKLb,GAAsB,GAAtB,GAA4B,ELKxB,CAAuB,EKLxC,GLKiB,CAAjB,yDG4BM;AH3BN,AKLA,AFsCQ,ACnCH,ECHL,AFsCQ,GAAG,EAAE,EHjCR,KKLO,CAAC,GLKb,CAAe,KAAf,CAAqB,CKLrB,GAA2B,ILK3B,AKLA,GLKgC,UAAhC;AACA,AKLH,AF+BS,AC5BF,CD3Bc,CEyBtB,CFuCU,KCrCI,CJEL,CIFO,GAAG,CJEf,CAAW,GIFS,GAAL,CAAS,GJExB,CAAsB,CIFP,EAAX,SJEJ,CAAmC,KAAK,SAAxC,EAAmD,KAAK,KAAxD;AACA,AGmCQ,ACrCJ,EDqCI,OHnCH,AIFI,CDqCO,EACR,MHpCR,AIFI,CJEW,EIFM,EAAjB,OJEJ,CAA2B,AGkCrB,KHlC0B,KAAhC;AACD,AGoCS,ACtCJ,EDsCI,CHzCV,IGyCe,EAAE,ACtCN,YAAL,CAAkB,SAAlB,GACA,QDkCE,8DCjCgC,KAAK,SAAL,CAAe,GADjD,GACoD,uEADpD,GAEqC,KAAK,SAAL,CAAe,QAFpD,GAE4D,6FAF5D,GAIiC,KAAK,SAAL,CAAe,KAJhD,GAIqD,gDAJrD,GAK+B,KAAK,SAAL,CAAe,IAL9C,GAKkD,gEANlD;ACHR,AF0CY,AC5BJ,ED4BI,EC5BJ,ED4BQ,EACF,CE3CL,KDcS,CAAC,WCdnB,CDcmB,ECdO,8EFsChB;AHhCV,AKLI,AF2CQ,AC7BA,ECdR,AF2CQ,GAAG,CC7BH,CCdH,AF2CQ,CE3CP,CLKV,EISgB,CAAC,CCdF,IAAN,CAAL,GAAmB,ADcX,GAAiB,EJT7B,AKL4B,EDchB,GCdR;ALlCJ,AKmCG,AFoCO,ACtBE,CJjDZ,AGOsB,CAAtB,CHPA,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","file":"assets.71ddc51b.js","sourceRoot":"..","sourcesContent":["class SimpleMediaPlayer {\n  media: HTMLMediaElement;\n  plugins: Array<any>;\n  container: HTMLElement;\n\n  constructor(config) {\n    this.media = config.el;\n    this.plugins = config.plugins || []; //Default value of empty array to prevent wrong state.\n\n    this.initPlayer();\n    this.initPlugins();\n  }\n  private initPlugins() {\n    this.plugins.forEach(plugin => {\n      plugin.run(this); //Method run must be implemented for each active plugin\n    });\n  }\n  play() {\n    this.media.play();\n  }\n  pause() {\n    this.media.pause();\n  }\n  togglePlay() {\n    this.media.paused ? this.play() : this.pause();\n  }\n  mute() {\n    this.media.muted = true;\n  }\n  unmute() {\n    this.media.muted = false;\n  }\n\n  initPlayer(){\n    this.container = document.createElement('div');\n    this.container.style.position = 'relative';\n    this.media.parentNode.insertBefore(this.container, this.media);\n    this.container.appendChild(this.media);\n  }\n}\n  // SimpleMediaPlayer.prototype.toggleMute = function(){\n  //   this.media.muted = !this.media.muted;\n  //}\n  \n  export default SimpleMediaPlayer;","import SimpleMediaPlayer from \"../SimpleMediaPlayer\";\n\nclass AutoPlay{\n    constructor(){}\n    run(player: SimpleMediaPlayer){\n        if(!player.media.muted){\n            player.mute();\n        }//browser won't let it play on charging for accessibility, unless it is muted\n        player.play();\n    };\n}\nexport default AutoPlay;\n","import SimpleMediaPlayer from '../SimpleMediaPlayer';\n\nclass AutoPause {\n  private threshold: number;\n  private player: SimpleMediaPlayer;\n\n    constructor() {\n      this.threshold = 0.25;\n      this.handleIntersection = this.handleIntersection.bind(this);\n      this.handleVisibility = this.handleVisibility.bind(this);    }\n  \n    run(player) {\n      this.player = player;\n  \n      const observer = new IntersectionObserver(this.handleIntersection, {\n        threshold: this.threshold,\n      });\n  \n      observer.observe(this.player.media);\n\n      document.addEventListener('visibilitychange', this.handleVisibility);\n    }\n  \n    private handleIntersection(entries: IntersectionObserverEntry[]) {\n      const entry = entries[0];\n  \n      const isVisible = entry.intersectionRatio >= this.threshold;\n  \n      isVisible ? this.player.play() : this.player.pause();\n      \n    }\n\n    private handleVisibility(){\n        const isVisible = document.visibilityState === 'visible';\n        isVisible ? this.player.play() : this.player.pause();\n    }\n  }\n  \n  export default AutoPause;\n  ","export interface Ad {\n    imageUrl: string,\n    title: string,\n    body: string,\n    url: string\n}\n\nconst ALL_ADS: Ad[] = [\n    {\n      imageUrl:\n        \"./remote_work.jpg\",\n      title: 'Curso Profesional de JavaScript',\n      body:\n        'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n      url: '#',\n    },\n  \n    {\n        imageUrl:\n        \"./remote_work.jpg\",\n        title: 'Curso Profesional de JavaScript',\n        body:\n          'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n        url: '#',\n      },\n    \n        {\n            imageUrl:\n            \"./remote_work.jpg\",\n            title: 'Curso Profesional de JavaScript',\n            body:\n              'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n            url: '#',\n          },\n        \n          {\n            imageUrl:\n            \"./remote_work.jpg\",\n            title: 'Curso Profesional de JavaScript',\n            body:\n              'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n            url: '#',\n          },\n        \n          {\n            imageUrl:\n              'https://unsplash.com/photos/mQmuv-3jAOc',\n            title: 'Curso Profesional de JavaScript',\n            body:\n              'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n            url: '#',\n          },\n       \n          {\n            imageUrl:\n            \"./remote_work.jpg\",\n            title: 'Curso Profesional de JavaScript',\n            body:\n              'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n            url: '#',\n          },\n        \n          {\n            imageUrl:\n            \"remote_work.jpg\",\n            title: 'Curso Profesional de JavaScript',\n            body:\n              'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n            url: '#',\n          },\n        \n          {\n            imageUrl:\n            \"./remote_work.jpg\",\n            title: 'Curso Profesional de JavaScript',\n            body:\n              'Mejora tus habilidades en Javascript. Conoce Typescript para mejorar el control de tus variables.',\n            url: '#',\n          }\n       ];\n\n\nclass Ads{\n    private static instance: Ads;\n    private ads:Ad[];\n\n    private constructor(){\n        this.initAds();\n    };\n\n    static getInstance(){\n        if(!Ads.instance){\n            Ads.instance = new Ads();\n        }\n        return Ads.instance;\n    }\n\n    private initAds(){\n        this.ads = [... ALL_ADS];\n    }\n\n    getAd(){\n        if(this.ads.length === 0)\n            this.initAds();\n       return this.ads.pop();\n    }\n}\n\nexport default Ads;","import SimpleMediaPlayer from \"../../SimpleMediaPlayer\";\nimport Ads, { Ad } from \"./Ads\";\n\nclass AdsPlugins{\n    private ads: Ads;\n    private player: SimpleMediaPlayer;\n    private media: HTMLMediaElement;\n    private currentAd: Ad;\n    private adsContainer: HTMLElement;\n\n    constructor(){\n        this.ads = Ads.getInstance();\n        this.adsContainer = document.createElement('div');\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this);\n    };\n\n    run(player: SimpleMediaPlayer){\n        this.player = player;\n        this.media = this.player.media;\n        this.media.addEventListener('timeupdate', this.handleTimeUpdate);\n        this.player.container.appendChild(this.adsContainer);\n\n    }\n    private handleTimeUpdate(){\n        const currentTime = Math.floor(this.media.currentTime);\n        if(currentTime % 30 === 0){\n            this.renderAd();\n        }\n    }\n\n    private renderAd(){\n        if(this.currentAd){\n            return;\n        };\n        const ad = this.ads.getAd();\n        this.currentAd = ad;\n        this.adsContainer.innerHTML =\n        ` <div class=\"ads\">\n            <a  class=\"ads__link\" href=\"${this.currentAd.url}\" target=\"_blank\">\n                <img class=\"ads__img\" src=\"${this.currentAd.imageUrl}\" />\n                <div class=\"ads__info\">\n                <h5 class=\"ads__title\">${this.currentAd.title}</h5>\n                <p class=\"ads__body\">${this.currentAd.body}</p>\n                </div>\n            </a>\n        </div>`;\n\n        setTimeout(() => {\n            this.currentAd = null;\n            this.adsContainer.innerHTML = '';\n        }, 10000);\n    }\n}\n\nexport default AdsPlugins;","import SimpleMediaPlayer from './SimpleMediaPlayer';\nimport AutoPlay from './plugins/AutoPlay';\nimport AutoPause from './plugins/AutoPause';\nimport Ads from './plugins/Ads';\n\n  //DEFINITIONS/////////\n  const playerSchema: HTMLElement = document.querySelector('.player');\n  const video: HTMLMediaElement = document.querySelector('video.movie');\n  const player: SimpleMediaPlayer = new SimpleMediaPlayer({\n    el: video, \n    plugins: [new AutoPlay(), new AutoPause(), new Ads()],\n    });\n    \n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.register('/serviceWorker.js').catch(error => {\n        console.log(error.message);\n      });\n    }\n    \n//FUNCTIONS///////\nfunction toggleButtonMute(){\n    const icon = player.media.muted ? '🔇' : '🔈';\n    button__speaker.textContent = icon;\n}\nfunction handleProgress(){\n    const percent: number = (player.media.currentTime / player.media.duration) * 100;\n    progressBar.style.flexBasis = `${percent}%`;\n}\nfunction toggleButtonPlay(){\n    const icon = player.media.paused ? '►' : '❚ ❚';\n    button__play.textContent = icon;\n}\n//Volume and speed ranges\nfunction handleRangeUpdate() {\n    video[this.name] = this.value;\n  }\n  function moveProgress(e) {\n    const scrubTime = (e.offsetX / progress.offsetWidth) * video.duration;\n    video.currentTime = scrubTime;\n  }\n  function skip(){\n    video.currentTime += parseFloat(this.dataset.skip);;\n}\n\n//CONTROLS///////\nconst button__play: HTMLElement = document.querySelector('.button__player');\nconst button__speaker: HTMLElement = document.querySelector('.button__speaker');\nconst progress: HTMLElement = playerSchema.querySelector('.progress');\nconst progressBar: HTMLElement = playerSchema.querySelector('.progress__filled');\nconst skipButtons: NodeListOf<Element> = playerSchema.querySelectorAll('[data-skip]');\nconst ranges: NodeListOf<Element> = playerSchema.querySelectorAll('.player__slider');\nconst fullScreenButton: HTMLElement = document.querySelector('.full__screen');\n\n//EVENTS////////\n//Page charges\nwindow.onload = () => {\n  toggleButtonPlay();\n  toggleButtonMute();\n};\n//play/pause button\nbutton__play.onclick = () => {\n    player.togglePlay();\n    toggleButtonPlay();\n}\n//Muted button\nbutton__speaker.onclick = () => {\n    if (player.media.muted) {\n        player.unmute();\n      } else {\n        player.mute();\n      }\n    toggleButtonMute();\n}\nfunction toggleFullScreen(){\n  fullScreen = !fullScreen;\n  if(fullScreen)  video.requestFullscreen();\n}\n\nvideo.addEventListener('timeupdate', handleProgress);\nvideo.onclick = () => {\n  player.togglePlay();\n  toggleButtonPlay();\n}\n//Ranges for volume and progress\nranges.forEach(range => range.addEventListener('change',handleRangeUpdate))\nranges.forEach(range => range.addEventListener('mousemove',handleRangeUpdate))\n//Handle calcs and change of progress\nlet mousedown = false;\nprogress.addEventListener('click', moveProgress);\nprogress.addEventListener('mousemove', (e) => mousedown && moveProgress(e));\nprogress.addEventListener('mousedown', () => mousedown = true);\nprogress.addEventListener('mouseup', () => mousedown = false);\nskipButtons.forEach(button => button.addEventListener('click', skip));\nlet fullScreen = false;\nfullScreenButton.addEventListener('click', toggleFullScreen);\n\nif('serviceWorker' in Navigator){\n  navigator.serviceWorker.register('/serviceWorker.js')\n  .catch(error => {\n    console.log(error.message);\n  });\n}\n"]}